<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>POP STAR CINEMA</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet" />
  <style>
    body {
      background: linear-gradient(to right, #0f2027, #203a43, #2c5364);
      color: #fff;
      font-family: 'Poppins', sans-serif;
      margin: 0;
      min-height: 100vh;
    }

    .navbar {
      background-color: #141425;
      box-shadow: 0 4px 8px rgba(0,0,0,0.6);
    }

    .navbar-brand {
      font-weight: 700;
      color: #ffc107 !important;
      font-size: 1.5rem;
    }

    .nav-link {
      color: #00c9a7 !important;
      font-weight: 600;
      margin-left: 15px;
      transition: color 0.3s ease;
    }
    .nav-link:hover {
      color: #ffb800 !important;
      text-decoration: underline;
    }

    .ms-auto {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .ms-auto span {
      font-weight: 600;
      color: #eee;
      white-space: nowrap;
    }
    .ms-auto span span {
      color: #ffc107;
      font-weight: 700;
    }

    .btn-gold {
      background: linear-gradient(to right, #ffb800, #ff5f00);
      color: #000;
      font-weight: bold;
      padding: 10px 24px;
      border-radius: 12px;
      border: none;
      margin: 5px;
      transition: filter 0.3s ease;
    }

    .btn-gold:hover {
      filter: brightness(1.1);
      color: #000;
    }

    .hero {
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      text-align: center;
      padding: 0 20px;
    }

    .hero h1 {
      font-size: 3rem;
      font-weight: 700;
      color: #ffc107;
      margin-bottom: 1rem;
      text-shadow: 0 0 10px rgba(255, 193, 7, 0.7);
    }

    .hero p {
      font-size: 1.2rem;
      max-width: 700px;
      margin-bottom: 2rem;
      color: #ddd;
      line-height: 1.6;
    }

    .hero .btn-gold {
      margin: 5px;
    }

    .now-showing-section {
      background-color: #141425;
      color: #ffc107;
      padding: 60px 20px;
      text-align: center;
    }
    .now-showing-section h2 {
      font-weight: 700;
      margin-bottom: 40px;
      font-size: 2.5rem;
      text-shadow: 0 0 8px rgba(255, 193, 7, 0.7);
    }
    .movie-card {
      transition: transform 0.3s ease;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.7);
      background-color: #222;
      cursor: pointer;
    }
    .movie-card:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 14px rgba(255, 193, 7, 0.9);
    }
    .movie-poster {
      height: 360px;
      object-fit: cover;
      border-radius: 12px 12px 0 0;
      border-bottom: 2px solid #ffb800;
    }
    .card-title {
      font-weight: 700;
      margin-top: 10px;
      color: #ffc107;
      font-size: 1.1rem;
      text-shadow: 0 0 4px rgba(255, 193, 7, 0.6);
    }
    a.card-link {
      text-decoration: none;
      color: inherit;
      display: block;
      user-select: none;
    }

    /* Pagination style */
    .pagination {
      display: flex;
      justify-content: center;
      margin-top: 30px;
      gap: 5px;
    }

    .pagination .page-item .page-link {
      color: #fff;
      background-color: #2c5364;
      border: none;
      border-radius: 8px;
      padding: 8px 14px;
    }

    .pagination .page-item.active .page-link {
      background-color: #0d6efd;
      color: #fff;
      font-weight: bold;
    }

    .pagination .page-item.disabled .page-link {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .pagination .page-link:hover {
      background-color: #ffc107;
      color: #000;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light shadow-sm">
    <div class="container">
      <a class="navbar-brand" href="#">POP STAR CINEMA</a>
      <div class="ms-auto d-flex align-items-center">
        <span class="me-3 fw-semibold">
          Selamat datang, <span th:text="${username}">User</span>
        </span>
        <form th:action="@{/logout}" method="post" style="display:inline;">
          <button type="submit" class="btn btn-gold">Logout</button>
        </form>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <h1>Selamat Datang di POP STAR CINEMA</h1>
    <p>
      POP STAR CINEMA adalah aplikasi streaming film yang memudahkan Anda untuk menonton berbagai film dan tayangan favorit secara online, mengeksplorasi katalog judul terbaru dan terpopuler, serta menikmati berbagai promo menarik seperti Buy 1 Get 1, sehingga Anda bisa merasakan pengalaman menonton yang praktis, seru, dan hemat langsung dari rumah hanya dalam satu klik.
    </p>
  </section>

  <!-- Now Showing -->
  <section class="now-showing-section">
    <h2>NOW SHOWING IN CINEMAS</h2>
    <div class="container">
      <div class="row justify-content-center g-4" id="cinema-container">
        <!-- Dynamic film cards -->
        <div class="col-6 col-sm-4 col-md-3" th:each="cinema : ${cinemas}">
          <a th:href="${cinema.url}" class="card-link" target="_blank">
            <div class="card movie-card shadow-sm">
              <img th:src="${cinema.thumbnailUrl}" class="card-img-top movie-poster" th:alt="${cinema.title}" />
              <div class="card-body text-center">
                <h6 class="card-title" th:text="${cinema.title}">Judul</h6>
              </div>
            </div>
          </a>
        </div>
      </div>

      <!-- Pagination -->
      <ul class="pagination mt-4" id="cinema-pagination"></ul>
    </div>
  </section>

  <!-- Script Pagination -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const itemsPerPage = 8;
      const container = document.getElementById("cinema-container");
      const paginationContainer = document.getElementById("cinema-pagination");
      const allItems = Array.from(container.children);
      const totalPages = Math.ceil(allItems.length / itemsPerPage);
      let currentPage = 0;

      function showPage(page) {
        allItems.forEach((item, index) => {
          item.style.display = (index >= page * itemsPerPage && index < (page + 1) * itemsPerPage) ? "block" : "none";
        });
        updatePagination(page);
      }

      function updatePagination(current) {
        paginationContainer.innerHTML = "";

        const prevItem = document.createElement("li");
        prevItem.className = `page-item ${current === 0 ? "disabled" : ""}`;
        prevItem.innerHTML = `<a class="page-link" href="#">‹</a>`;
        prevItem.querySelector("a").addEventListener("click", (e) => {
          e.preventDefault();
          if (current > 0) showPage(current - 1);
        });
        paginationContainer.appendChild(prevItem);

        for (let i = 0; i < totalPages; i++) {
          const pageItem = document.createElement("li");
          pageItem.className = `page-item ${i === current ? "active" : ""}`;
          pageItem.innerHTML = `<a class="page-link" href="#">${i + 1}</a>`;
          pageItem.querySelector("a").addEventListener("click", (e) => {
            e.preventDefault();
            showPage(i);
          });
          paginationContainer.appendChild(pageItem);
        }

        const nextItem = document.createElement("li");
        nextItem.className = `page-item ${(current + 1) >= totalPages ? "disabled" : ""}`;
        nextItem.innerHTML = `<a class="page-link" href="#">›</a>`;
        nextItem.querySelector("a").addEventListener("click", (e) => {
          e.preventDefault();
          if (current + 1 < totalPages) showPage(current + 1);
        });
        paginationContainer.appendChild(nextItem);
      }

      if (allItems.length > itemsPerPage) {
        showPage(currentPage);
      } else {
        paginationContainer.style.display = "none";
      }
    });
  </script>

  <!-- Footer -->
  <footer class="bg-dark text-light pt-5 pb-3 mt-5">
    <div class="container">
      <div class="text-center small text-secondary">
        © 2025 POP STAR CINEMA. All Rights Reserved.
      </div>
    </div>
  </footer>
</body>
</html>
